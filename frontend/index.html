<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="img/favicon-32x32.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>minimumpad - Editor de Textos Online</title>
    <!-- Google tag (gtag.js) - Usado para o Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z2KWW8B11Z"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-Z2KWW8B11Z');
    </script>
    <!-- Final da Tag Google Analytics-->

    <!-- importar css main -->
    <link rel="stylesheet" type="text/css" href="css/index.css">

    <!-- importar js main -->
    <script type="text/javascript" src="js/index.js"></script>


</head>

<body>

    <header>
        <div class="social-links">
            <!--<a href="https://github.com/victoorvieira/minimumpad" target="_blank"><img width="35px"
                    src="img/icons8-github-100.png"></a>-->
                <div class="main-icon">m</div>
                          </mask>
                        </defs>
                      </svg>

        </div>
    </header>

    <main>
        <div class="main-logo">minimumpad</div>
        <div class="main-description">Crie e Edite textos online de forma simples e eficiente!<br></div>
        <div class="newLineBtn"><br></div>
        <div>
            <a class="login-with-google-btn" href="https://minimumpad.com/oauth2/authorization/google">
                Faça Login e Comece a Escrever seus textos!
            </a>
            <div class="newLineBtn"><br></div>
            <button class="public-note-btn" id="createNoteBtn">Criar texto anônimo</button>
        </div>

    </main>


    <!-- Mapeamento de listeners para os botoes
    
    TODO: Revisar e usar esse processamento dentro do arquivo main.css
    
    -->
    <script>

       document.getElementById('createNoteBtn').addEventListener('click', async () => {
            const response = await fetch('https://minimumpad.com/tomcat/api/publicnotes', { method: 'POST' });
            const { url } = await response.json();
            window.location.href = `public-note.html?note=${url}`;
        });


    </script>


</body>

</html>